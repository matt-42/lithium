{"version":3,"sources":["images/brushed.jpg","images/brushed_white.jpg","Navigation.tsx","Footer.tsx","Documentation.tsx","Search2.tsx","AppBar.tsx","HL.tsx","HomePage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","navigationContext","createContext","path","navigateTo","navigationToContext","onUrlChangeCallbacks","window","Navigation","props","useState","location","pathname","setPath","useCallback","history","pushState","forEach","f","useEffect","onpopstate","Provider","value","children","useNavigation","useContext","preventDefault","onClick","e","hrefPrefix","console","log","process","p","replace","makeHrefUrl","startsWith","NavigationLink","url","href","Link","NavigationButton","Button","Footer","theme","useTheme","style","textAlign","height","marginLeft","marginRight","borderTop","borderBottom","width","Typography","padding","color","palette","text","primary","docUrls","Object","keys","k","formatUrl","s","toLowerCase","sectionAnchor","item","it","unshift","parent","map","join","sectionUrl","sectionPath","addToHierarchy","hierarchy","parents","itempos","depth","parentpos","length","docRendererHierarchy","docRendererParents","docRenderer","code","infostring","escaped","hljs","highlight","heading","level","section","substring","paragraph","src","link","title","cppToMarkdown","marker","markerpos","indexOf","a","searchIndex","values","fetch","then","r","content","items","lexer","split","pop","type","push","contents","sort","b","documentationIndex","indexDocumentation","generateDocumentation","doc_url","marked","use","renderer","docsHtml","sectionName","DocumentationMenuRec","nav","currentSection","hidden","undefined","open","setOpen","List","disablePadding","onLinkClick","key","ListItem","button","paddingLeft","fontFamily","component","selected","display","DocumentationMenu","Documentation","screen700","useMediaQuery","docContentDiv","useRef","setHierarchy","mobileMenuOpen","setmobileMenuOpen","setPage","mainSection","setContent","c","current","innerHTML","found","collection","document","getElementsByClassName","i","el","endsWith","scrollIntoView","Promise","resolve","setTimeout","_","remove","cb","dark","menuStyle","position","top","overflowY","docStyle","flexGrow","mobileOpenMenuButton","paddingTop","backgroundImage","brushed_bg","brushed_bg_white","Fab","aria-label","zIndex","bottom","spacing","left","Container","className","Paper","ref","SearchResult","divRef","hovered","setHovered","target","getBoundingClientRect","innerHeight","query","option","queryWords","filter","snippets","countNewLines","str","match","indices","w","indicesGroups","reduce","acc","cur","curIdx","last","g","min","max","Error","start","end","Math","x","lastIndexOf","md","highlightedTitle","onSelect","onMouseEnter","onMouseLeave","cursor","flexDirection","borderLeft","backgroundColor","background","paper","marginTop","variant","dangerouslySetInnerHTML","__html","Search2","index","setIndex","setQuery","selectedResultIndex","setSelectedResultIndex","results","setResults","l","event","includes","getElementById","focus","addEventListener","removeEventListener","gotoResult","resultIdx","selection","blur","options","entry","score","uniqBy","sortBy","slice","filterOptions","searchInput","TextField","label","size","InputProps","id","transitionProperty","transitionDuration","onChange","startAdornment","searchStyle","alignItems","justifyContent","typography","body1","idx","useStyles","makeStyles","createStyles","appbar","grow","menuButton","fontSize","breakpoints","up","inputRoot","inputInput","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","screen450","classes","AppBar","Toolbar","alt","paddingRight","noWrap","underline","IconButton","switchDarkMode","codeFont","HLsh","highlightBlock","HLcpp","InlineCode","fontWeight","HomePage","script","createElement","appendChild","frameBorder","scrolling","float","data-size","flex","marginBottom","flexBasis","ListItemText","darkTheme","createMuiTheme","main","secondary","default","h1","h2","h3","h4","lightTheme","body","AppContent","hash","setwindowHash","onhashchange","gtag","page_title","page_location","search","page_path","send_to","url1","url2","navigation","Body","styles","codeTheme","querySelector","setAttribute","App","cssPreference","darkMode","setDarkMode","storage","localStorage","getItem","React","useMemo","setItem","reload","ThemeProvider","Boolean","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b3b91144.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/brushed.39a44082.jpg\";","module.exports = __webpack_public_path__ + \"static/media/brushed_white.7271bc0f.jpg\";","import React, { createContext, PropsWithChildren, useCallback, useContext, useEffect, useState } from \"react\";\nimport Link, { LinkProps } from \"@material-ui/core/Link\"\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport _ from \"lodash\";\n\nlet navigationContext = createContext({\n  path: \"/\",\n  navigateTo: (path: string) => { }\n})\nlet navigationToContext = createContext({\n  navigateTo: (path: string) => { }\n})\n\nlet onUrlChangeCallbacks: ((path: string) => void)[] = [];\n\ndeclare global {\n  var navigateTo: (url: string) => void;\n}\nwindow.navigateTo = () => { };\n\nexport const Navigation = (props: PropsWithChildren<{}>) => {\n\n  const [path, setPath] = useState(window.location.pathname);\n\n  const navigateTo = useCallback(\n    (pathname: string) => {\n      window.history.pushState({}, \"\", pathname);\n      setPath(pathname);\n      onUrlChangeCallbacks.forEach(f => f(pathname));\n    },\n    [],\n  );\n  window.navigateTo = navigateTo;\n\n  useEffect(() => {\n    window.onpopstate = () => {\n      setPath(window.location.pathname);\n    }\n  }, [path]);\n\n  return <navigationContext.Provider value={{\n    navigateTo,\n    path\n  }}>\n    <navigationToContext.Provider value={{\n      navigateTo,\n    }}>\n      {props.children}\n    </navigationToContext.Provider>\n  </navigationContext.Provider>\n}\n\nexport function useNavigation() {\n  return useContext(navigationContext);\n}\nexport function useNavigateTo() {\n  return useContext(navigationToContext);\n}\nexport function useOnUrlChange(f: (path: string) => void) {\n  useEffect(() => {\n    onUrlChangeCallbacks.push(f);\n    f(window.location.pathname);\n    return () => {\n      _.remove(onUrlChangeCallbacks, cb => f === cb);\n    }\n  }, [f]);\n}\n\nexport const preventDefault = { onClick: (e: any) => e.preventDefault() };\n\nexport const hrefPrefix = (() => {\n  console.log(process.env.PUBLIC_URL);\n  let p = process.env.PUBLIC_URL;\n  p = p.replace(/\\/$/, \"\");\n  return p;\n})();\n\nexport function makeHrefUrl(path : string|null) {\n  let p = path || \"\";\n  if (p.startsWith(\"/\"))\n    return hrefPrefix + p;\n  else\n    return hrefPrefix + \"/\" + p;\n}\nexport function isSameUrl(url1 : string, url2 : string) {\n  return url1.replace(/\\/$/, \"\") === url2.replace(/\\/$/, \"\");\n}\n\nexport const NavigationLink = (props: LinkProps) => {\n  // const nav = useNavigateTo();\n  const url = makeHrefUrl(props.href || \"\");\n  return <Link {...props} href={url} onClick={(e: any) => { props.onClick?.(e); e.preventDefault(); window.navigateTo(url); }}>\n    {props.children}\n  </Link>\n};\n\nexport const NavigationButton = (props: ButtonProps) => {\n  const url = makeHrefUrl(props.href || \"\");\n  // const nav = useNavigateTo();\n\n  return <Button {...props} href={url} onClick={(e) => { props.onClick?.(e); e.preventDefault(); window.navigateTo(url); }}>\n    {props.children}\n  </Button>\n};\n","import useTheme from \"@material-ui/core/styles/useTheme\";\nimport Typography from \"@material-ui/core/Typography\"\nimport React from \"react\"\n\nexport const Footer = () => {\n  const theme = useTheme();\n  return <div style={{textAlign:\"center\"}}>\n    <div style={{ height: \"50px\" }}></div>\n    <div style={{\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      borderTop: \"1px solid #4a4a4a\",\n      borderBottom: \"1px solid #222222\",\n      width: \"70%\"\n    }}></div>\n    <div style={{ height: \"50px\" }}></div>\n\n    <Typography style={{ padding: \"30px\" , color: theme.palette.text.primary }}>\n      Released under the MIT License. Copyright Â© 2020 Matthieu Garrigues.\n  </Typography>\n  </div>\n}","import { ListItem } from \"@material-ui/core\";\nimport Container from \"@material-ui/core/Container\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Icon from \"@material-ui/core/Icon\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport hljs from 'highlight.js';\n// import \"highlight.js/styles/vs2015.css\";\nimport marked, { lexer } from \"marked\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Footer } from \"./Footer\";\nimport brushed_bg from \"./images/brushed.jpg\";\nimport brushed_bg_white from \"./images/brushed_white.jpg\";\nimport { hrefPrefix, makeHrefUrl, NavigationLink, useNavigation, useOnUrlChange } from \"./Navigation\";\n\nlet DOC_ROOT = \"https://raw.githubusercontent.com/matt-42/lithium/master/docs/\";\n\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development')\n  DOC_ROOT = process.env.PUBLIC_URL + \"/docs/\";  // dev mode\n\nconst docUrls: { [s: string]: string } = {\n  \"introduction\": \"introduction.md\",\n  \"getting-started\": \"getting_started.md\",\n  \"http-server\": \"http_server.cc\",\n  \"http-client\": \"http_client.cc\",\n  \"json\": \"json.cc\",\n  \"sql\": \"sql.cc\",\n  \"metamap\": \"metamap.cc\",\n  \"symbol\": \"symbol.cc\"\n}\nfor (let k of Object.keys(docUrls))\n  docUrls[k] = DOC_ROOT + docUrls[k];\n\nfunction formatUrl(s: string) {\n  return s.toLowerCase().replace(\"c++\", \"cpp\").replace(/[^a-zA-Z0-9]+/g, \"-\");\n}\n\ninterface SectionNode {\n  text: string,\n  depth: number,\n  children: { [k: string]: SectionNode },\n  parent: SectionNode | null\n};\n\nexport const sectionAnchor = (item: SectionNode) => {\n  let path: string[] = [];\n  let it: SectionNode | null = item;\n  while (it) {\n    path.unshift(it.text);\n    it = it.parent;\n  }\n  return path.map(formatUrl).join(\"/\");\n}\n\nexport const sectionUrl = (item: SectionNode) => {\n  return makeHrefUrl(sectionAnchor(item));\n}\n\nexport const sectionPath = (item: SectionNode) => {\n  let path: string[] = [];\n  let it: SectionNode | null = item;\n  while (it) {\n    path.unshift(it.text);\n    it = it.parent;\n  }\n\n  return path.join(\" / \");\n}\n\nexport type DocHierarchy = { [k: string]: SectionNode };\nexport type DocIndexEntry = { contents: { text: string, type: \"code\" | \"text\" }[], section: SectionNode, depth: number };\nexport type DocIndex = DocIndexEntry[];\n\nfunction addToHierarchy(item: any, hierarchy: DocHierarchy, parents: (SectionNode | null)[]) {\n  let itempos = item.depth - 1;\n  let parentpos = item.depth - 2;\n\n  if (item.depth > 1) {\n    // find parent.\n    while (parentpos > 0 && !parents[parentpos]) parentpos--;\n\n    let parent = parents[parentpos] as SectionNode;\n\n    // add item as child to parent.\n    parent.children[item.text] = { text: item.text, depth: item.depth, children: {}, parent };\n\n    // add item to the parent array.\n    // while (parents.length < item.depth) parents.push(null);\n    parents.length = itempos + 1;\n    parents[itempos] = parent.children[item.text];\n  }\n  else {\n    hierarchy[item.text] = { text: item.text, depth: item.depth, children: {}, parent: null };\n    parents.length = itempos + 1;\n    parents[0] = hierarchy[item.text];\n  }\n\n  return parents[itempos] as SectionNode;\n}\n\nconst docRendererHierarchy = {} as DocHierarchy;\nconst docRendererParents = [] as (SectionNode | null)[];\n\nconst docRenderer = {\n  code(code: string, infostring: string, escaped: boolean) {\n    if (infostring === \"\") infostring = \"c++\"\n    return `<pre><code class=\"hljs ${infostring}\">${hljs.highlight(infostring, code).value}</code></pre>`;\n  },\n  heading(text: string, level: number) {\n    let section = addToHierarchy({ text, depth: level }, docRendererHierarchy, docRendererParents);\n\n    return `\n    <a name=\"${sectionAnchor(section).substring(1)}\" class=\"anchor\" href=\"${sectionAnchor(section)}\" style=\"top: -90px; display: block;\n    position: relative;\n    top: -60px;\n    visibility: hidden;\">\n    <h${level} class=\"MuiTypography-root MuiTypography-h${level}\" style=\"margin-bottom: ${10 * (6 - level)}px; margin-top: ${10 * (6 - level)}px\">\n    <span class=\"header-link\"></span>\n    </a>\n    ${text.toLowerCase()}\n    </h${level}>`;\n  },\n  paragraph(src: string) {\n    return `<p class=\"MuiTypography-root MuiTypography-body1\">${src}</p>`\n  },\n  link(href: string | null, title: string | null, text: string): string {\n    return `<a onclick='window.navigateTo(\"${href}\"); return false;' href=${makeHrefUrl(href)} \n              ${title ? `title='${title}'` : \"\"} \n              class=\"MuiTypography-root MuiLink-root MuiLink-underline MuiTypography-colorPrimary\">\n              ${text}\n           </a>`\n\n  }\n};\n\nfunction cppToMarkdown(code: string) {\n  // Convert c++ to markdown:\n  // replace c++ comment with markdown c++ code\n  let marker = \"__documentation_starts_here__\";\n  let markerpos = code.indexOf(marker)\n  if (markerpos !== -1)\n    code = code.substring(markerpos + marker.length);\n  code = code.replace(/\\n[\\s]*\\/\\*/g, '\\n```\\n');\n  code = code.replace(/\\n[\\s]*\\*\\/[\\s]*/g, '\\n```c++\\n');\n  code = '```c++\\n' + code + '```\\n';\n\n  code = code.replace(/```c\\+\\+[\\s\\n]*```/, '');\n  code = code.replace(/```c\\+\\+[\\s]*}[\\s]*```/, '');\n  code = code.replace(/```c\\+\\+[\\s\\n]*```/, '');\n\n  return code;\n}\n\n\n\nexport async function indexDocumentation()\n  : Promise<[DocHierarchy, DocIndex]> {\n\n  let searchIndex: DocIndex = [];\n  let hierarchy: DocHierarchy = {};\n\n  for (let url of Object.values(docUrls)) {\n    let content: string = await fetch(url).then(r => r.text());\n\n    let items: any[] = lexer(url.split('.').pop() === \"md\" ? content : cppToMarkdown(content));\n\n    let parents: (SectionNode | null)[] = [];\n    for (let item of items) {\n      if (item.type === \"heading\") {\n\n        let itempos = item.depth - 1;\n        addToHierarchy(item, hierarchy, parents);\n\n        // index item\n        searchIndex.push({ contents: [], section: parents[itempos] as SectionNode, depth: item.depth });\n      }\n      else {\n        // index non headings nodes.\n        if (parents.length) {\n          const type = item.type === \"code\" ? \"code\" : \"text\";\n          searchIndex[searchIndex.length - 1].contents.push({ text: item.text || \"\", type });\n        }\n        // searchIndex.push({ text: item.text || \"\", section: parents[parents.length - 1] as SectionNode, depth: 99 });\n      }\n    }\n  }\n  searchIndex.sort((a, b) => {\n    if (a.depth < b.depth) return -1;\n    else return 1;\n  })\n  return [hierarchy, searchIndex];\n}\n\nexport const documentationIndex = indexDocumentation();\n\nasync function generateDocumentation(doc_url: string) {\n  marked.use({ renderer: docRenderer as any });\n\n  // Fecth the c++ code.\n  let code: string = await fetch(doc_url).then(r => r.text());\n  // Remove doc preambule.\n\n  return marked(doc_url.split('.').pop() === \"md\" ? code : cppToMarkdown(code));\n}\n\nconst docsHtml: { [sectionName: string]: Promise<string> } = {};\n\nfor (let sectionName of Object.keys(docUrls)) {\n  docsHtml[sectionName] = generateDocumentation(docUrls[sectionName]);\n}\n\nconst DocumentationMenuRec = (props: { section: SectionNode, hidden?: boolean, onLinkClick: () => void }) => {\n  const nav = useNavigation();\n  const currentSection = nav.path;\n  const hidden = props.hidden === undefined ? false : props.hidden;\n  const section = props.section;\n  const [open, setOpen] = useState(currentSection.startsWith(sectionAnchor(section)));\n  const theme = useTheme();\n  useEffect(() => {\n    if (!open && currentSection.startsWith(sectionAnchor(section)))\n      setOpen(true);\n  }, [open, currentSection, section])\n\n\n  if (!section) return <></>;\n\n  const children = <List disablePadding>{\n    Object.values(section.children).map((item) => <DocumentationMenuRec\n      onLinkClick={props.onLinkClick}\n      key={item.text} section={item} hidden={hidden || !open} />)}\n  </List>\n\n  if (section.depth === 1)\n    return <>\n      <ListItem key={section.text} button\n        onClick={() => setOpen(!open)}\n        style={{ paddingLeft: `${10 * section.depth}px`, color: theme.palette.text.primary }}>\n        <span style={{ fontFamily: \"Major Mono Display\" }}>{section.text.toLowerCase()}</span>\n      </ListItem>\n      {children}\n    </>\n  else\n    return <>\n      <ListItem key={section.text} button\n      component=\"a\"\n      href={sectionUrl(section)}\n      onClick={(e : any) => { props.onLinkClick(); nav.navigateTo(sectionUrl(section)); e.preventDefault(); }}\n      selected={currentSection === sectionAnchor(section)}        \n        style={{ display: hidden ? \"none\" : \"block\", paddingLeft: `${10 * section.depth}px`, color: theme.palette.text.primary }}>\n          <Typography>{section.text}</Typography>\n      </ListItem>\n      {children}\n    </>\n\n}\n\nconst DocumentationMenu = (props: { hierarchy: DocHierarchy, onLinkClick: () => void }) => {\n  if (!props.hierarchy) return <></>;\n  return <List disablePadding>\n    {Object.values(props.hierarchy).map((item: SectionNode) =>\n      <DocumentationMenuRec\n        key={item.text}\n        section={item}\n        onLinkClick={props.onLinkClick} />)}\n  </List>\n}\n\nexport const Documentation = () => {\n\n  // const navigation = useNavigation();\n  const theme = useTheme();\n  const screen700 = useMediaQuery('(min-width:700px)');\n\n  const docContentDiv = useRef<HTMLDivElement>(null);\n  const [hierarchy, setHierarchy] = useState<any>(null);\n  // const [currentSection, setCurrentSection] = useState(\"\");\n  const [mobileMenuOpen, setmobileMenuOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setHierarchy((await documentationIndex)[0]);\n    })();\n  }, []);\n\n  let setPage = useCallback(async (path: string) => {\n    path = path.replace(hrefPrefix, \"\");\n    const mainSection = path.split(\"/\")[1];\n      const setContent = (c : string) => {\n        if (docContentDiv?.current) docContentDiv.current.innerHTML = c;\n      };\n      if (!docsHtml[mainSection])\n        setContent(mainSection + \": Section not found\");\n      else\n        await docsHtml[mainSection].then(c => setContent(c));\n\n    // Scroll into the right section.\n    let found = false;\n    while (!found) {\n\n      let collection = document.getElementsByClassName(\"anchor\");\n      for (let i = 0; i < collection.length; i++) {\n        let el = collection.item(i) as HTMLLinkElement;\n        if (el && el.href.endsWith(path)) {\n          found = true;\n          el.scrollIntoView();\n          break;\n        }\n\n      }\n      if (!found) // sometime we need to wait because the doc is not mounted yet.\n        await new Promise(resolve => setTimeout(resolve, 100));\n    }\n\n  }, [docContentDiv]); \n\n  useOnUrlChange(setPage);\n\n  let dark = theme.palette.type === 'dark';\n\n  let menuStyle: CSSProperties = { position: \"fixed\", width: \"220px\", top: \"100px\", marginLeft: \"-240px\", height: \"calc(100% - 100px)\", overflowY: \"auto\" };\n  let docStyle: CSSProperties = { flexGrow: 1, textAlign: \"left\", padding: \"20px\" };\n  let mobileOpenMenuButton = <></>\n  if (!screen700) {\n\n    menuStyle = {\n      ...menuStyle,\n      display: mobileMenuOpen ? \"block\" : \"none\",\n      marginLeft: \"0px\", width: \"100%\",\n      top: \"0px\",\n      paddingTop: \"100px\",\n      backgroundImage: `url(\"${dark ? brushed_bg : brushed_bg_white}\")`,\n    };\n    docStyle = { ...docStyle, width: \"100%\" }\n\n    mobileOpenMenuButton = <Fab color=\"primary\" aria-label=\"show_menu\"\n      // hidden={mobileMenuOpen}\n      onClick={() => { setmobileMenuOpen(!mobileMenuOpen); }}\n      style={{\n        zIndex: 3000,\n        position: 'fixed',\n        bottom: theme.spacing(2),\n        left: theme.spacing(2),\n      }}>\n      <Icon>{mobileMenuOpen ? \"close\" : \"view_headline\"}</Icon>\n    </Fab>\n\n  }\n\n  return <div>\n    <Container style={{ paddingLeft: screen700 ? \"240px\" : \"0px\", position: \"relative\", paddingTop: \"100px\" }}>\n      {mobileOpenMenuButton}\n      <div className=\"docMenu\" style={menuStyle} >\n        <DocumentationMenu hierarchy={hierarchy} onLinkClick={() => setmobileMenuOpen(false)} />\n      </div>\n      <Paper style={docStyle}>\n        <div ref={docContentDiv}></div>\n      </Paper>\n      <Footer />\n    </Container>\n\n  </div>\n\n}\n","import { TextField, Typography, useTheme } from \"@material-ui/core\";\nimport Icon from \"@material-ui/core/Icon/Icon\";\nimport InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery/useMediaQuery\";\nimport hljs from 'highlight.js';\nimport _ from \"lodash\";\nimport marked from \"marked\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { DocIndex, DocIndexEntry, documentationIndex, sectionPath, sectionUrl } from \"./Documentation\";\nimport { useNavigateTo } from \"./Navigation\";\n\n\n\nfunction filterOptions(options: DocIndexEntry[], query: string): DocIndexEntry[] {\n\n  let queryWords = query.split(\" \").filter(s => s.length !== 0).map(s => s.toLowerCase());\n  let selected: [DocIndexEntry, number][] = [];\n  // return options.filter(entry => {\n  //   for (let w of queryWords)\n  //   // if (entry.text.toLowerCase().includes(w) || sectionPath(entry.section).toLowerCase().includes(w))\n  //     if (entry.text.indexOf(w) !== -1)\n  //       return true;\n  //   return false;\n  // });\n  for (let entry of options) {\n    let score = 0;\n    for (let w of queryWords) {\n      for (let content of entry.contents) {\n        if (content.text?.toLowerCase().includes(w))\n          score++;\n      }\n\n      if (entry.section.text.toLowerCase().includes(w))\n        score += 10;\n    }\n    if (score > 0) selected.push([entry, score]);\n  }\n  selected = _.uniqBy(selected, (s) => s[0].section);\n  selected = _.sortBy(selected, (s) => -s[1]);\n\n  return selected.map(s => s[0]).slice(0, 20);\n}\n\nfunction scrollIntoViewIfNeeded(target : HTMLElement) { \n  if (target.getBoundingClientRect().bottom > window.innerHeight) {\n      target.scrollIntoView(false);\n  }\n\n  if (target.getBoundingClientRect().top < 0) {\n      target.scrollIntoView();\n  } \n}\nexport const SearchResult = (props: { option: DocIndexEntry, query: string, selected: boolean, onSelect: () => void }) => {\n\n  const divRef = useRef<HTMLDivElement>(null);\n  const [hovered, setHovered] = useState(false);\n  useEffect(() => {\n    if (props.selected && divRef.current)\n      scrollIntoViewIfNeeded(divRef.current)\n      // divRef.current?.scrollIntoView();\n  },[props.selected, divRef])\n\n  const screen700 = useMediaQuery('(min-width:700px)');\n  let theme = useTheme();\n  let { query, option, selected } = props;\n  \n  let queryWords = query.split(\" \").filter(s => s.length !== 0);\n\n  let snippets: string[] = [];\n  for (let content of option.contents) {\n    \n    const countNewLines = (str : string) => (str.match(/\\n/g) || '').length + 1;\n \n\n    let indices = queryWords.map(w => content.text.toLowerCase().indexOf(w.toLowerCase())).filter(i => i !== -1);\n    if (content.type === \"text\") {\n      let indicesGroups = indices.reduce<number[][]>((acc: number[][], cur: number, curIdx: number) => {\n        if (curIdx === 0) return acc;\n        if (countNewLines(content.text.substring((_.last(acc) as number[])[0], cur)) < 1) {\n          _.last(acc)?.push(cur);\n          return acc;\n        }\n        return [...acc, [cur]];\n      }, [[indices[0]]]);\n      //   if (curIdx === 0) return acc;\n      //   if (cur - (_.last(acc) as number[])[0] < 100) {\n      //     _.last(acc)?.push(cur);\n      //     return acc;\n      //   }\n      //   else\n      //     return [...acc, [cur]];\n      // }, [[indices[0]]]);\n\n      snippets.push(...indicesGroups.map(g => {\n        let [min, max] = [g[0], g[g.length - 1]];\n        if (max - min > 100) throw new Error();\n        let [start, end] = [-50 + (max + min) / 2, 50 + (max + min) / 2];\n        [start, end] = [Math.max(start, 0), Math.min(end, content.text.length)];\n        let x = content.text.substring(0, start).lastIndexOf('\\s')\n        start = x === -1 ? start : x;\n        x = content.text.substring(end).indexOf('\\s');\n        end = x === -1 ? end : end + x;\n\n        while (content.text[start] !== '\\n' && start > 0) start--;\n        while (content.text[end] !== '\\n' && end < content.text.length) end++;\n        return marked(content.text.substring(start, end));\n      }));\n    }\n    else if (content.type === \"code\") {\n\n      let indicesGroups = indices.reduce<number[][]>((acc: number[][], cur: number, curIdx: number) => {\n        if (curIdx === 0) return acc;\n        if (countNewLines(content.text.substring((_.last(acc) as number[])[0], cur)) < 2) {\n          _.last(acc)?.push(cur);\n          return acc;\n        }\n        return [...acc, [cur]];\n      }, [[indices[0]]]);\n\n      snippets.push(...indicesGroups.map(g => {\n        let [min, max] = [g[0], g[g.length - 1]];\n\n        while (content.text[min] !== '\\n' && min > 0) min--;\n        while (content.text[max] !== '\\n' && max < content.text.length) max++;\n\n        let md = content.text.substring(min, max);\n        const infostring = \"c++\";\n        return `<pre><code class=\"hljs ${infostring}\">${hljs.highlight(infostring, md).value}</code></pre>`;\n\n      }));\n\n    }\n  }\n  let highlightedTitle = option.section.text;\n\n  return <div\n    ref={divRef}\n    onClick={props.onSelect}\n    onMouseEnter={() => setHovered(true)}\n    onMouseLeave={() => setHovered(false)}\n    key={sectionPath(option.section) + option.contents[0]?.text || \"\"}\n    style={{\n      cursor: \"pointer\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      borderLeft: (selected || hovered ? \"3px\" : \"1px\") +  \" solid #999999\",\n      backgroundColor: selected || hovered ? theme.palette.background.paper : \"unset\",\n      paddingLeft: \"10px\",\n      textAlign: \"left\",\n      marginTop: \"10px\",\n      width: screen700 ? \"700px\" : \"calc(100% - 20px)\"\n    }}>\n    {\n      true ? <div>\n        <Typography variant=\"caption\">{sectionPath(option.section)}</Typography>\n      </div> : <></>\n    }\n    <div>\n      <Typography variant=\"h6\"><div dangerouslySetInnerHTML={{ __html: highlightedTitle }} /></Typography>\n    </div>\n    <div>\n      <div dangerouslySetInnerHTML={{ __html: snippets.join(\"\") }}></div>\n    </div>\n  </div>\n}\n\nexport const Search2 = () => {\n  const screen700 = useMediaQuery('(min-width:700px)');\n\n  const theme = useTheme();\n  const [index, setIndex] = useState<DocIndex | null>(null)\n  const [query, setQuery] = useState(\"\");\n  const [selectedResultIndex, setSelectedResultIndex] = useState(0);\n  const [results, setResults] = useState<DocIndexEntry[]>([]);\n\n  // Focus on / or . key press.\n  useEffect(() => {\n    let l = (event: any) => {\n      if (['/', '.'].includes(event.key))\n        document.getElementById('doc_search_bar')?.focus();\n    };\n    document.addEventListener('keyup', l, false);\n    return () => { document.removeEventListener('keyup', l); }\n  }, []);\n\n  const nav = useNavigateTo();\n  const gotoResult = useCallback(\n    (resultIdx: number) => {\n      let selection = results[resultIdx];\n      if (selection)\n        nav.navigateTo(sectionUrl(selection.section))\n      setQuery(\"\");\n      document.getElementById('doc_search_bar')?.blur();\n    },\n    [nav, results]);\n\n  // Focus on / or . key press.\n  useEffect(() => {\n    let l = (event: any) => {\n      if ('ArrowUp' === event.key)\n        setSelectedResultIndex(Math.max(selectedResultIndex - 1, 0));\n      if ('ArrowDown' === event.key)\n        setSelectedResultIndex(Math.min(results.length - 1, selectedResultIndex + 1));\n      if ('Enter' === event.key) {\n        gotoResult(selectedResultIndex);\n      }\n      if ('Escape' === event.key) {\n        setQuery(\"\");\n        document.getElementById('doc_search_bar')?.blur();\n      }\n    };\n    document.addEventListener('keyup', l, false);\n    return () => { document.removeEventListener('keyup', l); }\n  }, [selectedResultIndex, results, gotoResult]);\n\n  // Set index at mount.\n  useEffect(() => {\n    documentationIndex.then(index => {\n      setIndex(index[1]);\n    });\n  }, []);\n\n  // Select option on query change.\n  useEffect(() => {\n    if (index) {\n      setResults(filterOptions(index, query));\n      setSelectedResultIndex(0);\n    }\n  }, [index, query]);\n\n  let searchInput = <TextField\n    label={query.length ? \"\" : (screen700 ? \"Search (Tap / or . to focus)\" : \"\")}\n    variant=\"outlined\"\n    size={query.length ? \"medium\" : \"small\"}\n    // variant=\"filled\"\n    InputProps={{\n      id: \"doc_search_bar\",\n      style: {\n        width: query.length ? (screen700 ? \"600px\" : \"100%\") : \"200px\",\n        transitionProperty: \"left top position width height\",\n        transitionDuration: \"0.2s\",\n      },\n      value: query,\n      onChange: (e) => setQuery(e.target.value),\n      startAdornment:\n        <InputAdornment position=\"start\">\n          <Icon>search</Icon>\n        </InputAdornment>\n      ,\n    }} />\n\n  if (!index) return <></>\n\n  let dark = theme.palette.type === 'dark';\n  let searchStyle = {};\n  if (query.length) searchStyle = {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    transitionProperty: \"left top position width height\",\n    transitionDuration: \"0.2s\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 2000,\n    justifyContent: \"center\",\n    // backgroundImage: `url(\"${dark ? brushed_bg : brushed_bg_white}\")`,\n    backgroundColor: dark ? \"#202020\" : \"#e8e8e8\",\n    color: theme.typography.body1.color\n  };\n\n  return <div\n    style={searchStyle}>\n    {searchInput}\n    <div style={{ display: query.length ? \"block\" : \"none\", overflowY: \"auto\", height: \"calc(100% - 150px)\", marginTop: \"10px\" }}>\n      {results.map((r, idx) => <SearchResult\n        key={idx}\n        option={r}\n        query={query}\n        selected={idx === selectedResultIndex}\n        onSelect={() => gotoResult(idx)} />)}\n    </div>\n  </div>\n}\n","import { Container } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Icon from '@material-ui/core/Icon/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link/Link';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery/useMediaQuery';\nimport GitHub from '@material-ui/icons/GitHub';\nimport React from 'react';\nimport brushed_bg from \"./images/brushed.jpg\";\nimport brushed_bg_white from \"./images/brushed_white.jpg\";\nimport { makeHrefUrl, NavigationLink } from './Navigation';\nimport { Search2 } from './Search2';\n\nconst useStyles = makeStyles((theme: Theme) => {\n\n  let dark = theme.palette.type === 'dark';\n  return createStyles({\n    appbar: {\n      // backgroundImage: `url(\"${  dark ? brushed_bg : brushed_bg_white }\")`,\n      backgroundColor: dark ? \"#151515\" : \"#e8e8e8\"\n    },\n    grow: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      color: theme.palette.text.primary,\n      display: 'none',\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"25px\",\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n      textDecoration: \"none\"\n    },\n\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n    sectionDesktop: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n    },\n    sectionMobile: {\n      display: 'flex',\n      [theme.breakpoints.up('md')]: {\n        display: 'none',\n      },\n    },\n  })\n\n}\n);\n\n\nexport default function PrimarySearchAppBar(props : { switchDarkMode: () => void }) {\n\n  const screen450 = useMediaQuery('(min-width:450px)');\n  const theme = useTheme();\n  const classes = useStyles();\n  \n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\" className={classes.appbar}>\n        <Container>\n          <Toolbar>\n            <NavigationLink hidden={!screen450} href={\"/\"}>\n              <img alt=\"Lithium logo\" src=\"https://raw.githubusercontent.com/matt-42/lithium/master/images/lithium_logo_white.png\" width=\"40\" \n                  style={{ paddingRight: \"15px\", filter: `invert(${theme.palette.type === \"dark\" ? \"0\" : '100'})` }} />\n            </NavigationLink>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              <NavigationLink className={classes.title}  underline=\"none\" href=\"/\">lithium</NavigationLink>\n          </Typography>\n            <div className={classes.grow} />\n            <div>\n              <Search2></Search2>\n          </div>\n            <div>\n              <IconButton href=\"https://github.com/matt-42/lithium\" target=\"_blank\" aria-label=\"Github\" >\n                  <GitHub />\n                </IconButton>\n                <IconButton onClick={props.switchDarkMode}>\n                  <Icon>invert_colors</Icon>\n                </IconButton>\n            </div>\n          </Toolbar>\n        </Container>\n      </AppBar>\n    </div>\n  );\n}\n","import hljs from 'highlight.js'\n// import \"highlight.js/styles/vs2015.css\"\nimport React, { PropsWithChildren } from 'react';\nimport { useRef, useEffect } from 'react';\n\nexport const codeFont = {\n  fontFamily: \"\\\"Droid Sans Mono\\\", monospace, monospace, \\\"Droid Sans Fallback\\\"\",\n  fontSize: \"14px\"\n}\n\n\nexport const HL = (props: PropsWithChildren<{language : string}>) => {\n\n  const el = useRef<HTMLPreElement>(null);\n\n  useEffect(() => {\n    if (!el.current) return;\n    hljs.highlightBlock(el.current);\n  }, [el]);\n\n  return <pre><code ref={el} className={props.language}>{props.children}</code></pre>\n}\n\n\nexport const HLsh = (props: PropsWithChildren<{}>) => {\n\n  const el = useRef<HTMLPreElement>(null);\n\n  useEffect(() => {\n    if (!el.current) return;\n    hljs.highlightBlock(el.current);\n  }, [el]);\n\n  return <pre><code ref={el} className=\"shell\">{props.children}</code></pre>\n}\n\n\nexport const HLcpp = (props: PropsWithChildren<{}>) => {\n\n  const el = useRef<HTMLPreElement>(null);\n\n  useEffect(() => {\n    if (!el.current) return;\n    hljs.highlightBlock(el.current);\n  }, [el]);\n\n  return <pre><code ref={el} className=\"c++\">{props.children}</code></pre>\n}\n\nexport const InlineCode = (props: PropsWithChildren<{}>) => {\n  return <span style={{ fontFamily: codeFont.fontFamily, fontWeight: \"bold\" }}>{props.children}</span>\n}","import Container from \"@material-ui/core/Container\"\nimport Link from \"@material-ui/core/Link\"\nimport Typography from \"@material-ui/core/Typography\"\nimport Button from \"@material-ui/core/Button\"\nimport Icon from \"@material-ui/core/Icon\"\nimport React, { useEffect } from \"react\"\nimport { HLcpp, HLsh, InlineCode } from \"./HL\"\nimport Paper from \"@material-ui/core/Paper\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport List from \"@material-ui/core/List\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\nimport { Footer } from \"./Footer\"\nimport { useTheme } from \"@material-ui/core/styles\"\nimport {NavigationButton, NavigationLink, preventDefault} from \"./Navigation\";\n\nexport const HomePage = () => {\n  const theme = useTheme();\n  const screen700 = useMediaQuery('(min-width:700px)');\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://platform.twitter.com/widgets.js\";\n    document.getElementsByClassName(\"twitter-share-button\")[0].appendChild(script);\n  }, []);\n\n  return <Container>\n    <div style={{ display: \"flex\", alignItems: \"center\", \n                  flexDirection: screen700 ? \"row\":\"column\",\n                  justifyContent: \"center\", paddingTop: \"100px\" }}>\n\n      <img src=\"https://raw.githubusercontent.com/matt-42/lithium/master/images/lithium_logo_white.png\" \n          width=\"200\" alt=\"Lithium. Build high performance C++ HTTP servers without being a C++ expert.\"\n          style={{marginRight: \"30px\", filter: `invert(${theme.palette.type === \"dark\" ? \"0\" : '100'})` }} />\n\n      <div >\n        <Typography variant=\"h1\">lithium</Typography>\n        <Typography style={{ fontSize: \"22px\" }} >\n          Build high performance C++ HTTP servers without being a C++ expert.\n      </Typography>\n        <div style={{ height: \"20px\" }}></div>\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"flex-start\", }}>    \n        <NavigationButton variant=\"outlined\"  style={{marginRight: \"45px\"}} href={\"/getting-started\"} {...preventDefault} >Get Started</NavigationButton>\n\n        <iframe src=\"https://ghbtns.com/github-btn.html?user=matt-42&repo=lithium&type=star&count=true&size=large\" frameBorder=\"0\" scrolling=\"0\" width=\"170\" height=\"30\" title=\"GitHub\"></iframe>\n        <a href=\"https://twitter.com/share\" className=\"twitter-share-button\" style={{float: \"left\", marginLeft: \"-37px\", paddingTop: \"10px\"}} data-size=\"large\">Tweet</a>\n    </div>\n\n      </div>\n\n    </div>\n\n\n\n    <div style={{ display: \"flex\", flexDirection: \"column\",  alignItems: \"center\", paddingTop: \"100px\"}}>\n      <Paper style={{ flex: 1,marginBottom: \"20px\", padding: \"20px\", width: screen700 ? \"700px\" : \"calc(100% - 20px)\",  }}>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Icon>get_app</Icon>\n          <div style={{flexBasis: \"10px\"}}></div>\n          <Typography variant=\"h6\"> Installation</Typography>\n        </div>\n        <div style={{ height: \"20px\" }}></div>\n\n<Typography>\n        The simplest way to use Lithium is to download the cli in your path. It compiles and runs the server's code\n        inside a docker container. The only requirements are Docker and Python>=3.6.\n</Typography>\n\n        <HLsh>\n{\n`$ wget https://raw.githubusercontent.com/matt-42/lithium/master/cli/li\n$ chmod +x ./li`}</HLsh>\n<Typography>\n        You can also instal Lithium locally. <NavigationLink href=\"/getting-started\"><u>Check the install guide for more info</u></NavigationLink>. \n</Typography>\n\n      </Paper>\n\n      <Paper style={{ flex: 1, padding: \"20px\", width: screen700 ? \"700px\" : \"calc(100% - 20px)\", }}>\n\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Icon>api</Icon>\n          <div style={{flexBasis: \"10px\"}}></div>\n          <Typography variant=\"h6\">Hello World</Typography>\n        </div>\n        <div style={{ height: \"20px\" }}></div>\n\n        <Typography>\n          Write your first <InlineCode>hello_world</InlineCode> Lithium server.\n          </Typography>\n        <HLcpp>\n          {\n`// main.cc \n#include <lithium_http_server.hh>\n            \nint main() {\n  li::http_api my_api;\n              \n  my_api.get(\"/hello_world\") = \n  [&](li::http_request& request, li::http_response& response) {\n    response.write(\"hello world.\");\n  };\n  li::http_serve(my_api, 8080);\n}\n`}\n        </HLcpp>\n\n        <Typography>\n        And run it:\n        </Typography>\n\n        <HLsh>{\n          `$ li run ./main.cc`}</HLsh>\n\n        <Typography>\n          Behind the scene, <InlineCode>li</InlineCode> will build a lithium docker image, compile and run the server.\n        </Typography>\n\n        <p style={{textAlign:\"right\"}}>\n        <NavigationButton variant=\"outlined\" href=\"/getting-started\">Read the docs</NavigationButton>\n        </p>\n\n      </Paper>\n      <div style={{ height: \"50px\" }}></div>\n      <div style={{ \n        borderTop: \"1px solid #4a4a4a\",\n        borderBottom: \"1px solid #222222\",\n       width: \"70%\" }}></div>\n      <div style={{ height: \"50px\" }}></div>\n\n      <Typography variant=\"h2\" component=\"h3\" style={{fontFamily: \"Major Mono Display\"}}>lithium's sponsors</Typography>\n\n      <List>\n      \n      <ListItem button component=\"a\" target=\"_blank\" href=\"https://github.com/SamuelMarks\" >\n        <ListItemText primary=\"Samuel Marks @SamuelMarks\" />\n        </ListItem>\n        <ListItem button component=\"a\" target=\"_blank\" href=\"https://github.com/oxcug\" >\n        <ListItemText primary=\"@oxcug\" />\n        </ListItem>\n      <ListItem button component=\"a\" target=\"_blank\" href=\"https://github.com/Burnett01\" >\n        <ListItemText primary=\"Steven Agyekum @Burnett01\" />\n        </ListItem>\n        <ListItem button component=\"a\" target=\"_blank\" href=\"https://github.com/ajcressman\" >\n        <ListItemText primary=\"@ajcressman\" />\n        </ListItem>\n      </List>\n  \n      <Typography>If you find this project helpful and want to support it, give a star to lithium or buy me a coffee!</Typography>\n\n      <Link  target=\"_blank\"  href=\"https://github.com/sponsors/matt-42\"><u>More info on my github sponsor page <Icon style={{color: \"pink\"}}>favorite_border</Icon></u></Link> \n\n      <br/>\n      <Typography variant=\"h2\" component=\"h3\" style={{fontFamily: \"Major Mono Display\"}}>thanks</Typography>\n      <Typography>Big thanks to Yvan Darmet for the logo and the design tips.</Typography>\n    </div>\n\n    <Footer/>\n  </Container>\n} \n","import { useMediaQuery } from '@material-ui/core';\nimport { createMuiTheme, createStyles, makeStyles, Theme, ThemeProvider, useTheme } from '@material-ui/core/styles';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport './App.css';\nimport PrimarySearchAppBar from './AppBar';\nimport { Documentation } from './Documentation';\nimport { HomePage } from './HomePage';\nimport brushed_bg from \"./images/brushed.jpg\";\nimport brushed_bg_white from \"./images/brushed_white.jpg\";\nimport {isSameUrl, makeHrefUrl, Navigation, useNavigation} from './Navigation'\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#e8e8e8',\n      dark: '#414141'\n    },\n    secondary: {\n      main: '#e8e8e8',\n      dark: '#414141'\n    },\n    background: {\n      paper: \"#151515\",\n      default: \"#000000\"\n    }\n    // background: { paper: \"#151515\" },\n  },\n\n  typography: {\n\n    body1: {\n      color: \"#e8e8e8\",\n    },\n    h1: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"50px\",\n      color: \"#e8e8e8\"\n    },\n    h2: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"30px\",\n      color: \"#e8e8e8\",\n    },\n    h3: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"20px\",\n      color: \"#e8e8e8\"\n    },\n    h4: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"15px\",\n      color: \"#e8e8e8\"\n    },\n  },\n\n\n});\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: 'light',\n    secondary: {\n      main: \"#555555\"\n    },\n    primary: {\n      main: \"#555555\"\n    },\n    background: {\n      paper: \"#f5f5f5\",\n      default: \"#f5f5f5\"\n    }\n  },\n\n  typography: {\n    body1: {\n      color: \"#151515\",\n    },\n    h1: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"50px\"\n    },\n    h2: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"30px\"\n    },\n    h3: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"20px\"\n    },\n    h4: {\n      fontFamily: \"Major Mono Display\",\n      fontSize: \"15px\"\n\n    },\n  },\n\n});\n\nconst useStyles = makeStyles((theme: Theme) => {\n\n  let dark = theme.palette.type === 'dark';\n\n  return createStyles({\n    body: {\n\n      // backgroundImage: `url(\"${  dark ? brushed_bg : brushed_bg_white }\")`,\n      backgroundColor: dark ? \"#202020\" : \"#e8e8e8\"\n\n    }\n  });\n});\n\ndeclare global {\n  var gtag: any;\n};\n\nfunction AppContent() {\n\n  const [windowHash, setwindowHash] = useState(window.location.hash);\n\n  useEffect(() => {\n    window.onhashchange = () => {\n      setwindowHash(window.location.hash);\n      gtag('event', 'page_view', {\n        page_title: window.location.hash,\n        page_location: window.location.pathname + window.location.search + window.location.hash,\n        page_path: window.location.pathname + window.location.search + window.location.hash,\n        send_to: 'G-KPG7NGCZH9'\n      });\n    }\n  }, []);\n\n  const navigation = useNavigation();\n  return isSameUrl(navigation.path, makeHrefUrl(\"/\")) ? <HomePage /> : <Documentation />\n\n}\nfunction Body(props: { switchDarkMode: () => void }) {\n  let styles = useStyles();\n\n  let theme = useTheme();\n\n  useEffect(() => {\n    let codeTheme = theme.palette.type === \"light\" ? \"//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css\" :\n      \"//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/vs2015.min.css\";\n\n    document.querySelector(\"link[id='highlightJSTheme']\")?.setAttribute(\"href\", codeTheme);\n  }, [theme]);\n\n  return (\n    <div className={styles.body}>\n      <PrimarySearchAppBar switchDarkMode={props.switchDarkMode} />\n      <AppContent />\n    </div>\n  );\n\n}\n\n\nfunction App() {\n\n  const cssPreference = useMediaQuery('(prefers-color-scheme: dark)')\n  const [darkMode, setDarkMode] = useState(false);\n\n  useEffect(() => {\n    let storage = window.localStorage.getItem(\"darkMode\");\n    if (storage === \"true\") return setDarkMode(true);\n    else if (storage === null) return setDarkMode(cssPreference);\n    else setDarkMode(false);\n  }, [cssPreference]);\n\n  const theme = React.useMemo(() => darkMode ? darkTheme : lightTheme, [darkMode]);\n\n  const switchDarkMode = useCallback(() => {\n    // setDarkMode(!darkMode); material ui theme switch does not work, need to reload the page.\n    window.localStorage.setItem(\"darkMode\", `${!darkMode}`);\n    window.location.reload();\n\n  }, [darkMode, setDarkMode]);\n\n  return (\n    <Navigation>\n      <ThemeProvider theme={theme}>\n        <Body switchDarkMode={switchDarkMode} />\n      </ThemeProvider>\n    </Navigation>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}